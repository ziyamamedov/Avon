"use strict";

var token = "4fc049db594406eeb07d7bd5b94cddf43351e828";
var $country = $('#country');
var $region = $('#region');
var $city = $('#city');
var $street = $('#street');
$country.suggestions({
  token: token,
  type: "ADDRESS",
  count: 10,
  constraints: {
    locations: {
      country: "*"
    }
  },
  bounds: "country",
  hint: false,

  /* Вызывается, когда пользователь выбирает одну из подсказок */
  onSelect: function onSelect(suggestion) {
    console.log(suggestion);
  }
});
$region.suggestions({
  token: token,
  type: "ADDRESS",
  bounds: "region-area",
  constraints: $country,

  /* Вызывается, когда пользователь выбирает одну из подсказок */
  onSelect: function onSelect(suggestion) {
    console.log(suggestion);
  }
});
$city.suggestions({
  token: token,
  type: "ADDRESS",
  hint: false,
  bounds: "city-settlement",
  constraints: $region,

  /* Вызывается, когда пользователь выбирает одну из подсказок */
  onSelect: function onSelect(suggestion) {
    console.log(suggestion);
  }
});
$street.suggestions({
  token: token,
  type: "ADDRESS",
  hint: false,
  bounds: "street-house",
  constraints: $city,

  /* Вызывается, когда пользователь выбирает одну из подсказок */
  onSelect: function onSelect(suggestion) {
    console.log(suggestion);
  }
});
var swiper = new Swiper('.swiper-container', {
  // Optional parameters
  slidesPerView: 1,
  spaceBetween: 10,
  loop: true,
  // If we need pagination
  pagination: {
    el: '.swiper-pagination',
    clickable: true
  },
  breakpoints: {
    // when window width is >= 480px
    480: {
      slidesPerView: 2,
      spaceBetween: 20
    },
    // when window width is >= 640px
    640: {
      slidesPerView: 3,
      spaceBetween: 30
    }
  }
});
$('#prevbtn').on("click", function () {
  swiper.slidePrev();
});
$('#nextBtn').on("click", function () {
  swiper.slideNext();
});
document.addEventListener('DOMContentLoaded', function () {
  var cataloguesList = document.querySelector('.catalogues__list');
  cataloguesList.innerHTML = '';
  $.ajax({
    type: 'GET',
    url: "./php/cat-list-load.php",
    dataType: 'json',
    success: function success(data) {
      console.log(data);
    }
  });
});
var sliderList = $('#catalogueSliderList');
sliderList.html = '';
/*XHr request which tells us how many images are there in the
  catalogue folder, which we need to build our slider */

$('#cat-btn').on('click', function (e) {
  e.preventDefault();
  $.ajax({
    type: 'GET',
    url: "./php/catalogue-load.php",
    dataType: 'text',
    success: function success(data) {
      var imgCount = Number(data); // Quantity of images in the folder

      var pageCount = imgCount - 2; //Quantiy of pages in the catalogue(2 are blank pages)

      var inputPageSelector = document.querySelector('.catalogue__slider-diplay-input'); // Дисплей отобр-я текущей страницы

      var catalogueSwiper = new Swiper('.swiper-container_cat', {
        speed: 800,
        keyboard: {
          enabled: true
        },
        virtual: {
          slides: function () {
            var slides = [];

            for (var i = 0; i < imgCount; i++) {
              slides.push("<div class=\"catalogues__slider-item-col\"><img class=\"catalogue__slider-item-img\" src=\"./images/catalogue/01_2021/".concat(i, ".jpg\" alt=\"\u041A\u0430\u0442\u0430\u043B\u043E\u0433 3 2021\"></div>\n                            <div class=\"catalogues__slider-item-col\"><img class=\"catalogue__slider-item-img\" src=\"./images/catalogue/01_2021/").concat(i + 1, ".jpg\" alt=\"\u041A\u0430\u0442\u0430\u043B\u043E\u0433 3 2021\"></div>"));
              i++;
            }

            return slides;
          }()
        },
        on: {
          slideChange: function slideChange() {
            changeDisplay(catalogueSwiper.activeIndex * 2, pageCount);
          }
        }
      });

      function changeDisplay(currentPage, totalPages) {
        if (currentPage == 0) {
          inputPageSelector.value = "1 / ".concat(totalPages);
        } else if (currentPage >= totalPages) {
          inputPageSelector.value = "".concat(totalPages, " / ").concat(totalPages);
        } else {
          inputPageSelector.value = "".concat(currentPage, " - ").concat(currentPage + 1, " / ").concat(totalPages);
        }
      }

      ;
      changeDisplay(0, pageCount);
      $('.catalogues__slider-prev-btn').on('click', function (e) {
        e.preventDefault();
        catalogueSwiper.slidePrev();
      });
      $('.catalogues__slider-next-btn').on('click', function (e) {
        e.preventDefault();
        catalogueSwiper.slideNext();
      });
      $('.catalogues__slider-first-btn').on('click', function (e) {
        e.preventDefault();
        catalogueSwiper.slideTo(0, 0);
      });
      $('.catalogue__slider-last-btn').on('click', function (e) {
        e.preventDefault();
        catalogueSwiper.slideTo(imgCount / 2 - 1, 0);
      }); // Функционал выбора и отображения текущей страницы

      inputPageSelector.addEventListener('focus', function () {
        this.value = '';
      });
      inputPageSelector.addEventListener('keydown', function (e) {
        if (e.keyCode > 47 && e.keyCode < 57 || e.keyCode == 8) {// Default behavior
        } else if (e.keyCode == 13) {
          //Enter pressed
          var chosenSlide = catalogueSwiper.activeIndex * 2;

          if (this.value == '') {
            this.blur();
            changeDisplay(chosenSlide, pageCount);
          } else {
            chosenSlide = Number(this.value);
            catalogueSwiper.slideTo(chosenSlide / 2, 800);
            this.blur();
          }
        } else {
          e.preventDefault();
        }
      });
      inputPageSelector.addEventListener('blur', function () {
        if (this.value == '') {
          changeDisplay(catalogueSwiper.activeIndex * 2, pageCount);
        }
      });
    }
  });
});
var hamBtn = document.querySelector('#hamBtn');
var sidebar = document.querySelector('.sidebar');
var clsBtn = document.querySelector('#hamClsBtn');
hamBtn.addEventListener('click', function () {
  sidebar.classList.add('sidebar--active');
});
clsBtn.addEventListener('click', function () {
  sidebar.classList.remove('sidebar--active');
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHJlc3MuanMiLCJjYXBhYmlsaXRpZXNfc2xpZGVyLmpzIiwiY2F0YWxvZ3VlLmpzIiwiaGFtYnVyZ2VyLmpzIl0sIm5hbWVzIjpbInRva2VuIiwiJGNvdW50cnkiLCIkIiwiJHJlZ2lvbiIsIiRjaXR5IiwiJHN0cmVldCIsInN1Z2dlc3Rpb25zIiwidHlwZSIsImNvdW50IiwiY29uc3RyYWludHMiLCJsb2NhdGlvbnMiLCJjb3VudHJ5IiwiYm91bmRzIiwiaGludCIsIm9uU2VsZWN0Iiwic3VnZ2VzdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJzd2lwZXIiLCJTd2lwZXIiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwibG9vcCIsInBhZ2luYXRpb24iLCJlbCIsImNsaWNrYWJsZSIsImJyZWFrcG9pbnRzIiwib24iLCJzbGlkZVByZXYiLCJzbGlkZU5leHQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXRhbG9ndWVzTGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJhamF4IiwidXJsIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwiZGF0YSIsInNsaWRlckxpc3QiLCJodG1sIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaW1nQ291bnQiLCJOdW1iZXIiLCJwYWdlQ291bnQiLCJpbnB1dFBhZ2VTZWxlY3RvciIsImNhdGFsb2d1ZVN3aXBlciIsInNwZWVkIiwia2V5Ym9hcmQiLCJlbmFibGVkIiwidmlydHVhbCIsInNsaWRlcyIsImkiLCJwdXNoIiwic2xpZGVDaGFuZ2UiLCJjaGFuZ2VEaXNwbGF5IiwiYWN0aXZlSW5kZXgiLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJ2YWx1ZSIsInNsaWRlVG8iLCJrZXlDb2RlIiwiY2hvc2VuU2xpZGUiLCJibHVyIiwiaGFtQnRuIiwic2lkZWJhciIsImNsc0J0biIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxLQUFBLEdBQUEs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QUNBb0MsRUFBQUEsT0FBQSxDQUFBRSxTQUFBLENBQUFDLEdBQUEsQ0FBQSxpQkFBQTtBQUNBLENBRkE7QUFHQUYsTUFBQSxDQUFBckMsZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsWUFBQTtBQUNBb0MsRUFBQUEsT0FBQSxDQUFBRSxTQUFBLENBQUFFLE1BQUEsQ0FBQSxpQkFBQTtBQUNBLENBRkEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB0b2tlbiA9IFwiNGZjMDQ5ZGI1OTQ0MDZlZWIwN2Q3YmQ1Yjk0Y2RkZjQzMzUxZTgyOFwiO1xyXG5cclxudmFyICRjb3VudHJ5ID0gJCgnI2NvdW50cnknKTtcclxudmFyICRyZWdpb24gPSAkKCcjcmVnaW9uJyk7XHJcbnZhciAkY2l0eSA9ICQoJyNjaXR5Jyk7XHJcbnZhciAkc3RyZWV0ID0gJCgnI3N0cmVldCcpO1xyXG5cclxuJGNvdW50cnkuc3VnZ2VzdGlvbnMoe1xyXG4gIHRva2VuOiB0b2tlbixcclxuICB0eXBlOiBcIkFERFJFU1NcIixcclxuICBjb3VudCA6MTAsXHJcbiAgY29uc3RyYWludHM6e1xyXG4gICAgbG9jYXRpb25zOiB7Y291bnRyeTogXCIqXCJ9XHJcbiAgfSxcclxuICBib3VuZHM6IFwiY291bnRyeVwiLFxyXG4gIGhpbnQ6IGZhbHNlLFxyXG4gIC8qINCS0YvQt9GL0LLQsNC10YLRgdGPLCDQutC+0LPQtNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQstGL0LHQuNGA0LDQtdGCINC+0LTQvdGDINC40Lcg0L/QvtC00YHQutCw0LfQvtC6ICovXHJcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcclxuICAgIGNvbnNvbGUubG9nKHN1Z2dlc3Rpb24pO1xyXG4gIH1cclxufSk7XHJcblxyXG4kcmVnaW9uLnN1Z2dlc3Rpb25zKHtcclxuICB0b2tlbjogdG9rZW4sXHJcbiAgdHlwZTogXCJBRERSRVNTXCIsXHJcbiAgYm91bmRzOiBcInJlZ2lvbi1hcmVhXCIsXHJcbiAgY29uc3RyYWludHM6ICRjb3VudHJ5LFxyXG4gIC8qINCS0YvQt9GL0LLQsNC10YLRgdGPLCDQutC+0LPQtNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQstGL0LHQuNGA0LDQtdGCINC+0LTQvdGDINC40Lcg0L/QvtC00YHQutCw0LfQvtC6ICovXHJcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcclxuICAgICAgY29uc29sZS5sb2coc3VnZ2VzdGlvbik7XHJcbiAgfVxyXG59KTtcclxuXHJcbiRjaXR5LnN1Z2dlc3Rpb25zKHtcclxuICB0b2tlbjogdG9rZW4sXHJcbiAgdHlwZTogXCJBRERSRVNTXCIsXHJcbiAgaGludDogZmFsc2UsXHJcbiAgYm91bmRzOiBcImNpdHktc2V0dGxlbWVudFwiLFxyXG4gIGNvbnN0cmFpbnRzOiAkcmVnaW9uLFxyXG4gIC8qINCS0YvQt9GL0LLQsNC10YLRgdGPLCDQutC+0LPQtNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQstGL0LHQuNGA0LDQtdGCINC+0LTQvdGDINC40Lcg0L/QvtC00YHQutCw0LfQvtC6ICovXHJcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcclxuICAgICAgY29uc29sZS5sb2coc3VnZ2VzdGlvbik7XHJcbiAgfVxyXG59KTtcclxuXHJcbiRzdHJlZXQuc3VnZ2VzdGlvbnMoe1xyXG4gIHRva2VuOiB0b2tlbixcclxuICB0eXBlOiBcIkFERFJFU1NcIixcclxuICBoaW50OiBmYWxzZSxcclxuICBib3VuZHM6IFwic3RyZWV0LWhvdXNlXCIsXHJcbiAgY29uc3RyYWludHM6ICRjaXR5LFxyXG4gIC8qINCS0YvQt9GL0LLQsNC10YLRgdGPLCDQutC+0LPQtNCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDQstGL0LHQuNGA0LDQtdGCINC+0LTQvdGDINC40Lcg0L/QvtC00YHQutCw0LfQvtC6ICovXHJcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcclxuICAgICAgY29uc29sZS5sb2coc3VnZ2VzdGlvbik7XHJcbiAgfVxyXG59KTtcclxuIiwiY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN3aXBlci1jb250YWluZXInLCB7XHJcbiAgLy8gT3B0aW9uYWwgcGFyYW1ldGVyc1xyXG4gIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgc3BhY2VCZXR3ZWVuOiAxMCxcclxuICBsb29wOiB0cnVlLFxyXG4gIFxyXG4gIC8vIElmIHdlIG5lZWQgcGFnaW5hdGlvblxyXG4gIHBhZ2luYXRpb246IHtcclxuICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgIGNsaWNrYWJsZTogdHJ1ZVxyXG4gIH0sXHJcbiAgYnJlYWtwb2ludHM6IHtcclxuICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDQ4MHB4XHJcbiAgICA0ODA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAyMFxyXG4gICAgfSxcclxuICAgIC8vIHdoZW4gd2luZG93IHdpZHRoIGlzID49IDY0MHB4XHJcbiAgICA2NDA6IHtcclxuICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgc3BhY2VCZXR3ZWVuOiAzMFxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG4kKCcjcHJldmJ0bicpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICBzd2lwZXIuc2xpZGVQcmV2KCk7XHJcbn0pO1xyXG4kKCcjbmV4dEJ0bicpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICBzd2lwZXIuc2xpZGVOZXh0KCk7XHJcbn0pO1xyXG4iLCJcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjYXRhbG9ndWVzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRhbG9ndWVzX19saXN0Jyk7XHJcbiAgY2F0YWxvZ3Vlc0xpc3QuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICQuYWpheCh7XHJcbiAgICB0eXBlOiAnR0VUJyxcclxuICAgIHVybDogXCIuL3BocC9jYXQtbGlzdC1sb2FkLnBocFwiLFxyXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuXHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuY29uc3Qgc2xpZGVyTGlzdCA9ICQoJyNjYXRhbG9ndWVTbGlkZXJMaXN0Jyk7XHJcbnNsaWRlckxpc3QuaHRtbCA9ICcnO1xyXG4vKlhIciByZXF1ZXN0IHdoaWNoIHRlbGxzIHVzIGhvdyBtYW55IGltYWdlcyBhcmUgdGhlcmUgaW4gdGhlXHJcbiAgY2F0YWxvZ3VlIGZvbGRlciwgd2hpY2ggd2UgbmVlZCB0byBidWlsZCBvdXIgc2xpZGVyICovXHJcbiQoJyNjYXQtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIFxyXG4gICQuYWpheCh7XHJcbiAgICB0eXBlOiAnR0VUJyxcclxuICAgIHVybDogXCIuL3BocC9jYXRhbG9ndWUtbG9hZC5waHBcIixcclxuICAgIGRhdGFUeXBlOiAndGV4dCcsXHJcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgdmFyIGltZ0NvdW50ID0gTnVtYmVyKGRhdGEpOyAvLyBRdWFudGl0eSBvZiBpbWFnZXMgaW4gdGhlIGZvbGRlclxyXG4gICAgICB2YXIgcGFnZUNvdW50ID0gaW1nQ291bnQgLSAyOyAvL1F1YW50aXkgb2YgcGFnZXMgaW4gdGhlIGNhdGFsb2d1ZSgyIGFyZSBibGFuayBwYWdlcylcclxuICAgICAgY29uc3QgaW5wdXRQYWdlU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZ3VlX19zbGlkZXItZGlwbGF5LWlucHV0Jyk7Ly8g0JTQuNGB0L/Qu9C10Lkg0L7RgtC+0LHRgC3RjyDRgtC10LrRg9GJ0LXQuSDRgdGC0YDQsNC90LjRhtGLXHJcbiAgICAgIGNvbnN0IGNhdGFsb2d1ZVN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyX2NhdCcsIHtcclxuICAgICAgICBzcGVlZDogODAwLFxyXG4gICAgICAgIGtleWJvYXJkOiB7XHJcbiAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB2aXJ0dWFsOiB7XHJcbiAgICAgICAgICBzbGlkZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltZ0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBzbGlkZXMucHVzaChgPGRpdiBjbGFzcz1cImNhdGFsb2d1ZXNfX3NsaWRlci1pdGVtLWNvbFwiPjxpbWcgY2xhc3M9XCJjYXRhbG9ndWVfX3NsaWRlci1pdGVtLWltZ1wiIHNyYz1cIi4vaW1hZ2VzL2NhdGFsb2d1ZS8wMV8yMDIxLyR7aX0uanBnXCIgYWx0PVwi0JrQsNGC0LDQu9C+0LMgMyAyMDIxXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0YWxvZ3Vlc19fc2xpZGVyLWl0ZW0tY29sXCI+PGltZyBjbGFzcz1cImNhdGFsb2d1ZV9fc2xpZGVyLWl0ZW0taW1nXCIgc3JjPVwiLi9pbWFnZXMvY2F0YWxvZ3VlLzAxXzIwMjEvJHtpKzF9LmpwZ1wiIGFsdD1cItCa0LDRgtCw0LvQvtCzIDMgMjAyMVwiPjwvZGl2PmApO1xyXG4gICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzbGlkZXM7XHJcbiAgICAgICAgICB9KClcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uOiB7XHJcbiAgICAgICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGFuZ2VEaXNwbGF5KGNhdGFsb2d1ZVN3aXBlci5hY3RpdmVJbmRleCAqIDIsIHBhZ2VDb3VudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZURpc3BsYXkoY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMpIHtcclxuICAgICAgICBpZigoY3VycmVudFBhZ2UgPT0gMCkpIHtcclxuICAgICAgICAgIGlucHV0UGFnZVNlbGVjdG9yLnZhbHVlID0gYDEgLyAke3RvdGFsUGFnZXN9YDtcclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID49IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgIGlucHV0UGFnZVNlbGVjdG9yLnZhbHVlID0gYCR7dG90YWxQYWdlc30gLyAke3RvdGFsUGFnZXN9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5wdXRQYWdlU2VsZWN0b3IudmFsdWUgPSBgJHtjdXJyZW50UGFnZX0gLSAke2N1cnJlbnRQYWdlICsgMX0gLyAke3RvdGFsUGFnZXN9YDtcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgfTtcclxuICAgICAgY2hhbmdlRGlzcGxheSgwLCBwYWdlQ291bnQpO1xyXG5cclxuICAgICAgJCgnLmNhdGFsb2d1ZXNfX3NsaWRlci1wcmV2LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY2F0YWxvZ3VlU3dpcGVyLnNsaWRlUHJldigpO1xyXG4gICAgICB9KTtcclxuICAgICAgJCgnLmNhdGFsb2d1ZXNfX3NsaWRlci1uZXh0LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjYXRhbG9ndWVTd2lwZXIuc2xpZGVOZXh0KCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJCgnLmNhdGFsb2d1ZXNfX3NsaWRlci1maXJzdC1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNhdGFsb2d1ZVN3aXBlci5zbGlkZVRvKDAsIDApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5jYXRhbG9ndWVfX3NsaWRlci1sYXN0LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2F0YWxvZ3VlU3dpcGVyLnNsaWRlVG8oKChpbWdDb3VudCAvIDIpIC0gMSksIDApO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vINCk0YPQvdC60YbQuNC+0L3QsNC7INCy0YvQsdC+0YDQsCDQuCDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGC0LXQutGD0YnQtdC5INGB0YLRgNCw0L3QuNGG0YtcclxuICAgICAgXHJcbiAgICAgIGlucHV0UGFnZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICB0aGlzLnZhbHVlID0gJyc7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpbnB1dFBhZ2VTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgaWYoICgoZS5rZXlDb2RlID4gNDcpICYmIChlLmtleUNvZGU8IDU3KSkgfHwgKGUua2V5Q29kZSA9PSA4KSApIHtcclxuICAgICAgICAgIC8vIERlZmF1bHQgYmVoYXZpb3JcclxuICAgICAgICB9IGVsc2UgaWYoZS5rZXlDb2RlID09IDEzKSB7Ly9FbnRlciBwcmVzc2VkXHJcbiAgICAgICAgICAgIGxldCBjaG9zZW5TbGlkZSA9IGNhdGFsb2d1ZVN3aXBlci5hY3RpdmVJbmRleCoyO1xyXG4gICAgICAgICAgICBpZih0aGlzLnZhbHVlID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgY2hhbmdlRGlzcGxheShjaG9zZW5TbGlkZSwgcGFnZUNvdW50KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjaG9zZW5TbGlkZSA9IE51bWJlcih0aGlzLnZhbHVlKVxyXG4gICAgICAgICAgICAgIGNhdGFsb2d1ZVN3aXBlci5zbGlkZVRvKGNob3NlblNsaWRlLzIsIDgwMCk7XHJcbiAgICAgICAgICAgICAgdGhpcy5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaW5wdXRQYWdlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMudmFsdWUgPT0gJycpIHtcclxuICAgICAgICAgIGNoYW5nZURpc3BsYXkoY2F0YWxvZ3VlU3dpcGVyLmFjdGl2ZUluZGV4KjIsIHBhZ2VDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KSBcclxuICAgIH0gXHJcbiAgfSlcclxufSk7IiwiY29uc3QgaGFtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbUJ0bicpO1xyXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKTtcclxuY29uc3QgY2xzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hhbUNsc0J0bicpXHJcblxyXG5oYW1CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdzaWRlYmFyLS1hY3RpdmUnKTtcclxufSlcclxuY2xzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHNpZGViYXIuY2xhc3NMaXN0LnJlbW92ZSgnc2lkZWJhci0tYWN0aXZlJyk7IFxyXG59KVxyXG4iXX0=
